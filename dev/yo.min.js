var Yo=function(){"use strict";var e,n="modules",t=0,r=0,o=function(t){e=t.namespace||Yo,Yo.loadedState={},t.scriptRoot&&(n=t.scriptRoot),e[n]=e[n]||{},e.debugMode=t.debugMode||!1,e.debugScripts=t.debugScripts||void 0,e.debugMode&&(Yo.loadOrder=[])},d=function(n){e.debugMode&&(void 0===e.debugScripts||i("Array",e.debugScripts)&&e.debugScripts.length<1?console.log(n):i("Array",e.debugScripts)&&e.debugScripts.length>0&&e.debugScripts.forEach(function(e){n.search(e)>-1&&console.log(n)}))},i=function(e,n){return"[object "+e+"]"===Object.prototype.toString.call(n)},u=function(e,n){if(e.length===n.length){var t,r;for(t=0;t<e.length;t++)if(r=e[t],!i(n[t],r))return d("Error with value comparison: "+r+", EXPECTED: "+n[t]),!1;return!0}return!1},a=function(e){return e.slice(0)},c=function(){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])arguments[e].hasOwnProperty(n)&&(arguments[0][n]=arguments[e][n]);return arguments[0]},l=function(e,n,t){var r=e.split("."),o=n;t=t||!1;for(var d=0;d<r.length;d++){if(!o[r[d]])return!1;if(t&&d===r.length-1)return o;o=o[r[d]]}return o},f=function(e,n,t){var r=e.split("."),o=n;if(t=t||!1,r.length<2)return o[e]||(o[e]={}),t?n:o[e];for(var d=0;d<r.length;d++){if(o[r[d]]||(o[r[d]]={}),t&&d===r.length-1)return o;o=o[r[d]]}return o},s=function(){var o,i,s=[],p=!0,g=function(e){return l(e,Yo.loadedState)},h=function(e,n){c(f(e,Yo.loadedState),n)},v=function(o){var i=f(o,e[n],!0),u=o.split(".");u=u[u.length-1],g(o).loaded&&(i[u]=g(o).loadedFunc(),r+=1,d("YO.LOADED: "+o),e.debugMode&&Yo.loadOrder.push(o),d("scripts ADDED: "+t+", LOADED: "+r),g(o).runAfterActivation())},S=function(t){return f(t,e[n])},b=function(e,n){n=n||o,h(n,c({loaded:!1,loadedFunc:function(){},runAfterActivation:function(){},dependedBy:[],dependencies:[]},f(n,Yo.loadedState)||{},e))},A=function(){return b({loaded:!0,loadedFunc:function(){d(o+" called and already loaded")}}),i.apply(null,s.map(function(e){return S(e)}))},y=function(){for(var e,n=g(o).dependedBy,t=0;t<n.length;t++){e=n[t];for(var r=0;r<g(e).dependencies.length;r++)if(g(e).dependencies[r]===o){g(e).dependencies.splice(r,1),n.splice(t,1),t--,d("DEPENDENCY: "+e+" dependeds on "+o);break}g(e).dependencies.length<1&&(g(e).loaded=!0,v(e))}},D=function(){var e,n=!0,t=g(o).dependencies;d("SCRIPTS: "+o+" dependent on ["+t.toString()+"]");for(var r=0;r<t.length;r++)e=t[r],l(e,Yo.loadedState)||b({},e),g(e).loaded?(t.splice(r,1),r--):(g(e).dependedBy.push(o),n=!1);n&&(g(o).loaded=!0)};if(u(arguments,["String","Array","Function"]))o=arguments[0].toLowerCase(),s=arguments[1],i=arguments[2],p=s.length<1;else{if(!u(arguments,["String","Function"]))return d("incorrect params added",arguments),!1;o=arguments[0].toLowerCase(),i=arguments[1]}d("YO.ADD: "+o),t+=1,p?(b({loaded:!0,loadedFunc:i}),v(o),y()):(b({loadedFunc:A,dependencies:a(s),runAfterActivation:function(){y()}}),D(),v(o))};return{init:o,add:s,isTypeOf:i,argumentChecker:u,arrayClone:a,extend:c}}();